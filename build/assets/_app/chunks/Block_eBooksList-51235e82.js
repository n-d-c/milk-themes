import{S as l,i as e,s,l as t,n as o,p as n,q as i,r as a,h as c,u as r,e as u,v as d,w as v,a as h,d as p,M as m,N as f,G as k,c as g,b,m as w,t as y,f as _,g as E,K as I,D as B,E as T,W as U,j as $,o as q,k as D}from"./index-7a36a124.js";import{m as P}from"./Layout_Main-697d9c60.js";import{e as L,f as j}from"./Block_Ratings-97e1c7df.js";function N(l){let e,s,h=l[1].input_1+"";return{c(){e=t("p"),s=o(h),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,h),t.forEach(c),this.h()},h(){r(e,"class","svelte-w6q27d")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&h!==(h=l[1].input_1+"")&&v(s,h)},d(l){l&&c(e)}}}function V(l){let e,s,h=l[1].input_2+"";return{c(){e=t("p"),s=o(h),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,h),t.forEach(c),this.h()},h(){r(e,"class","svelte-w6q27d")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&h!==(h=l[1].input_2+"")&&v(s,h)},d(l){l&&c(e)}}}function x(l){let e,s,h=l[1].input_3+"";return{c(){e=t("p"),s=o(h),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,h),t.forEach(c),this.h()},h(){r(e,"class","svelte-w6q27d")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&h!==(h=l[1].input_3+"")&&v(s,h)},d(l){l&&c(e)}}}function S(l){let e,s;return{c(){e=t("p"),s=o(l[2]),this.h()},l(t){e=n(t,"P",{class:!0});var o=i(e);s=a(o,l[2]),o.forEach(c),this.h()},h(){r(e,"class","response-msg svelte-w6q27d")},m(l,t){u(l,e,t),d(e,s)},p(l,e){4&e&&v(s,l[2])},d(l){l&&c(e)}}}function M(l){let e,s,v,g,b,w,y,_,E,I,B,T,U,$,q,D,P,L,j,M,O=l[1].input_1&&N(l),R=l[1].input_2&&V(l),C=l[1].input_3&&x(l),F=l[2]&&S(l);return{c(){e=t("div"),s=t("form"),v=t("input"),g=h(),O&&O.c(),b=h(),w=t("input"),y=h(),_=t("input"),E=h(),R&&R.c(),I=h(),B=t("input"),T=h(),C&&C.c(),U=h(),$=t("input"),q=h(),D=t("button"),P=o("Submit"),L=h(),F&&F.c(),this.h()},l(l){e=n(l,"DIV",{class:!0});var t=i(e);s=n(t,"FORM",{method:!0,class:!0});var o=i(s);v=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),g=p(o),O&&O.l(o),b=p(o),w=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),y=p(o),_=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),E=p(o),R&&R.l(o),I=p(o),B=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),T=p(o),C&&C.l(o),U=p(o),$=n(o,"INPUT",{type:!0,name:!0,value:!0,class:!0}),q=p(o),D=n(o,"BUTTON",{type:!0,class:!0});var r=i(D);P=a(r,"Submit"),r.forEach(c),L=p(o),F&&F.l(o),o.forEach(c),t.forEach(c),this.h()},h(){r(v,"type","text"),r(v,"name","input_1_3"),r(v,"placeholder","First Name"),r(v,"class","svelte-w6q27d"),r(w,"type","text"),r(w,"name","input_1_6"),r(w,"placeholder","Last Name"),r(w,"class","svelte-w6q27d"),r(_,"type","email"),r(_,"name","input_2"),r(_,"placeholder","Email"),r(_,"class","svelte-w6q27d"),r(B,"type","tel"),r(B,"name","input_3"),r(B,"placeholder","000-000-0000"),r(B,"class","svelte-w6q27d"),r($,"type","hidden"),r($,"name","input_4"),$.value=l[0],r($,"class","svelte-w6q27d"),r(D,"type","submit"),r(D,"class","svelte-w6q27d"),r(s,"method","post"),r(s,"class","svelte-w6q27d"),r(e,"class","modal svelte-w6q27d")},m(t,o){u(t,e,o),d(e,s),d(s,v),d(s,g),O&&O.m(s,null),d(s,b),d(s,w),d(s,y),d(s,_),d(s,E),R&&R.m(s,null),d(s,I),d(s,B),d(s,T),C&&C.m(s,null),d(s,U),d(s,$),d(s,q),d(s,D),d(D,P),d(s,L),F&&F.m(s,null),j||(M=m(s,"submit",f(l[3])),j=!0)},p(l,[e]){l[1].input_1?O?O.p(l,e):(O=N(l),O.c(),O.m(s,b)):O&&(O.d(1),O=null),l[1].input_2?R?R.p(l,e):(R=V(l),R.c(),R.m(s,I)):R&&(R.d(1),R=null),l[1].input_3?C?C.p(l,e):(C=x(l),C.c(),C.m(s,U)):C&&(C.d(1),C=null),1&e&&($.value=l[0]),l[2]?F?F.p(l,e):(F=S(l),F.c(),F.m(s,null)):F&&(F.d(1),F=null)},i:k,o:k,d(l){l&&c(e),O&&O.d(),R&&R.d(),C&&C.d(),F&&F.d(),j=!1,M()}}}function O(l,e,s){var{eBookTitle:t}=e,{downloadLink:o}=e,n={},i="";return l.$$set=l=>{"eBookTitle"in l&&s(0,t=l.eBookTitle),"downloadLink"in l&&s(4,o=l.downloadLink)},[t,n,i,function(){var l=this,e=l.method,t=new FormData(l);fetch("https://admin.immigrationlawnj.com/wp-json/gf/v2/forms/3/submissions",{method:e,body:t}).then((l=>l.json())).then((l=>(l=>{console.log(l);var e=l.is_valid,t=e?l.confirmation_message.replace(/(<([^>]+)>)/gi,""):"There was a problem with your submission.",o=e?{}:Object.fromEntries(Object.entries(l.validation_messages).map((l=>{var[e,s]=l;return["input_"+e,s]})));return s(1,n=o),s(2,i=t),{isSuccess:e,message:t,validationError:o}})(l))).then((e=>{e.isSuccess&&(window.location=o,l.reset())})).catch((l=>{console.log(l)}))},o]}class R extends l{constructor(l){super(),e(this,l,O,M,s,{eBookTitle:0,downloadLink:4})}}function C(l,e,s){const t=l.slice();return t[7]=e[s],t}function F(l){var e,s,m,f,k,I,B;let T,U,$,q,D,P,L,j,N,V,x,S,M,O,C,F,H,z,G,K,W,A,J,Q=(null==(e=l[7])?void 0:e.title)+"",X=(null==(m=null==(s=l[7])?void 0:s.eBook)?void 0:m.shortDescription)+"";return K=new R({props:{downloadLink:null==(I=null==(k=null==(f=l[7])?void 0:f.eBook)?void 0:k.pdf)?void 0:I.mediaItemUrl,eBookTitle:null==(B=l[7])?void 0:B.title}}),{c(){T=t("div"),U=t("div"),$=t("picture"),q=t("source"),P=h(),L=t("source"),N=h(),V=t("img"),M=h(),O=t("div"),C=t("h2"),F=o(Q),H=h(),z=t("div"),G=h(),g(K.$$.fragment),W=h(),this.h()},l(l){T=n(l,"DIV",{id:!0,class:!0});var e=i(T);U=n(e,"DIV",{class:!0});var s=i(U);$=n(s,"PICTURE",{});var t=i($);q=n(t,"SOURCE",{type:!0,srcset:!0}),P=p(t),L=n(t,"SOURCE",{type:!0,srcset:!0}),N=p(t),V=n(t,"IMG",{src:!0,alt:!0,loading:!0,width:!0,height:!0,class:!0}),t.forEach(c),s.forEach(c),M=p(e),O=n(e,"DIV",{class:!0});var o=i(O);C=n(o,"H2",{});var r=i(C);F=a(r,Q),r.forEach(c),H=p(o),z=n(o,"DIV",{class:!0}),i(z).forEach(c),G=p(o),b(K.$$.fragment,o),o.forEach(c),W=p(e),e.forEach(c),this.h()},h(){var e,s,t,o,n,i,a,c,u,d,v;r(q,"type","image/avif"),r(q,"srcset",D=null==(t=null==(s=null==(e=l[7])?void 0:e.eBook)?void 0:s.avifImage)?void 0:t.sourceUrl),r(L,"type","image/webp"),r(L,"srcset",j=null==(i=null==(n=null==(o=l[7])?void 0:o.eBook)?void 0:n.webpImage)?void 0:i.sourceUrl),V.src!==(x=null==(u=null==(c=null==(a=l[7])?void 0:a.eBook)?void 0:c.pngImage)?void 0:u.sourceUrl)&&r(V,"src",x),r(V,"alt",S=null==(d=l[7])?void 0:d.title),r(V,"loading","lazy"),r(V,"width","200"),r(V,"height","275"),r(V,"class","svelte-1btcfck"),r(U,"class","ebook-img svelte-1btcfck"),r(z,"class","ebook-description svelte-1btcfck"),r(O,"class","ebook-content"),r(T,"id",A=null==(v=l[7])?void 0:v.slug),r(T,"class","ebook block-style04 svelte-1btcfck")},m(l,e){u(l,T,e),d(T,U),d(U,$),d($,q),d($,P),d($,L),d($,N),d($,V),d(T,M),d(T,O),d(O,C),d(C,F),d(O,H),d(O,z),z.innerHTML=X,d(O,G),w(K,O,null),d(T,W),J=!0},p(l,e){var s,t,o,n,i,a,c,u,d,h,p,m,f,k,g,b,w,y;(!J||4&e&&D!==(D=null==(o=null==(t=null==(s=l[7])?void 0:s.eBook)?void 0:t.avifImage)?void 0:o.sourceUrl))&&r(q,"srcset",D),(!J||4&e&&j!==(j=null==(a=null==(i=null==(n=l[7])?void 0:n.eBook)?void 0:i.webpImage)?void 0:a.sourceUrl))&&r(L,"srcset",j),(!J||4&e&&V.src!==(x=null==(d=null==(u=null==(c=l[7])?void 0:c.eBook)?void 0:u.pngImage)?void 0:d.sourceUrl))&&r(V,"src",x),(!J||4&e&&S!==(S=null==(h=l[7])?void 0:h.title))&&r(V,"alt",S),(!J||4&e)&&Q!==(Q=(null==(p=l[7])?void 0:p.title)+"")&&v(F,Q),(!J||4&e)&&X!==(X=(null==(f=null==(m=l[7])?void 0:m.eBook)?void 0:f.shortDescription)+"")&&(z.innerHTML=X);const _={};4&e&&(_.downloadLink=null==(b=null==(g=null==(k=l[7])?void 0:k.eBook)?void 0:g.pdf)?void 0:b.mediaItemUrl),4&e&&(_.eBookTitle=null==(w=l[7])?void 0:w.title),K.$set(_),(!J||4&e&&A!==(A=null==(y=l[7])?void 0:y.slug))&&r(T,"id",A)},i(l){J||(y(K.$$.fragment,l),J=!0)},o(l){_(K.$$.fragment,l),J=!1},d(l){l&&c(T),E(K)}}}function H(l){let e,s,o,a,v,h=l[2],p=[];for(let t=0;t<h.length;t+=1)p[t]=F(C(l,h,t));const m=l=>_(p[l],1,1,(()=>{p[l]=null}));return{c(){e=t("div"),s=t("div"),o=t("div");for(let l=0;l<p.length;l+=1)p[l].c();this.h()},l(l){e=n(l,"DIV",{id:!0,class:!0});var t=i(e);s=n(t,"DIV",{class:!0});var a=i(s);o=n(a,"DIV",{class:!0});var r=i(o);for(let e=0;e<p.length;e+=1)p[e].l(r);r.forEach(c),a.forEach(c),t.forEach(c),this.h()},h(){r(o,"class","ebooks-list svelte-1btcfck"),r(s,"class","ebooks-inner svelte-1btcfck"),r(e,"id",l[0]),r(e,"class",a=I(l[1])+" svelte-1btcfck")},m(l,t){u(l,e,t),d(e,s),d(s,o);for(let e=0;e<p.length;e+=1)p[e].m(o,null);v=!0},p(l,[s]){if(4&s){let e;for(h=l[2],e=0;e<h.length;e+=1){const t=C(l,h,e);p[e]?(p[e].p(t,s),y(p[e],1)):(p[e]=F(t),p[e].c(),y(p[e],1),p[e].m(o,null))}for(B(),e=h.length;e<p.length;e+=1)m(e);T()}(!v||1&s)&&r(e,"id",l[0]),(!v||2&s&&a!==(a=I(l[1])+" svelte-1btcfck"))&&r(e,"class",a)},i(l){if(!v){for(let l=0;l<h.length;l+=1)y(p[l]);v=!0}},o(l){p=p.filter(Boolean);for(let e=0;e<p.length;e+=1)_(p[e]);v=!1},d(l){l&&c(e),U(p,l)}}}function z(l,e,s,t,o,n,i){try{var a=l[n](i),c=a.value}catch(r){return void s(r)}a.done?e(c):Promise.resolve(c).then(t,o)}function G(l){return function(){var e=this,s=arguments;return new Promise((function(t,o){var n=l.apply(e,s);function i(l){z(n,t,o,i,a,"next",l)}function a(l){z(n,t,o,i,a,"throw",l)}i(void 0)}))}}function K(l,e,s){let t;$(l,P,(l=>s(6,t=l)));var{id:o}=e,{blockstyle:n=""}=e,i="ebooks",a=L,c=()=>{};return q(G((function*(){var l,e,o=null==(l=t)||null==(e=l.data)?void 0:e.gql(j,t.data.sources.wordpress,{size:999});c=yield null==o?void 0:o.subscribe(function(){var l=G((function*(l){var e=yield l;s(2,a=e.eBooks.nodes)}));return function(e){return l.apply(this,arguments)}}())}))),D((()=>{c()})),l.$$set=l=>{"id"in l&&s(0,o=l.id),"blockstyle"in l&&s(3,n=l.blockstyle)},l.$$.update=()=>{8&l.$$.dirty&&s(1,i="ebooks "+n)},[o,i,a,n]}class W extends l{constructor(l){super(),e(this,l,K,H,s,{id:0,blockstyle:3})}}export{W as B};
