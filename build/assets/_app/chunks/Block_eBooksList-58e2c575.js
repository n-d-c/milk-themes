import{S as l,i as e,s,l as t,n as o,p as n,q as i,r as a,h as c,u as r,e as u,v as d,w as h,a as v,d as m,M as p,N as f,G as g,c as k,b,m as y,t as _,f as w,g as E,K as I,D as B,E as T,W as U,j as $,o as D,k as P}from"./index-7a36a124.js";import{m as L}from"./Layout_Main-b0b29ee4.js";import{e as j,f as N}from"./Block_Ratings-8e279174.js";function V(l){let e,s,v=l[1].input_1+"";return{c(){e=t("p"),s=o(v),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,v),t.forEach(c),this.h()},h(){r(e,"class","svelte-mchgu6")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&v!==(v=l[1].input_1+"")&&h(s,v)},d(l){l&&c(e)}}}function x(l){let e,s,v=l[1].input_2+"";return{c(){e=t("p"),s=o(v),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,v),t.forEach(c),this.h()},h(){r(e,"class","svelte-mchgu6")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&v!==(v=l[1].input_2+"")&&h(s,v)},d(l){l&&c(e)}}}function S(l){let e,s,v=l[1].input_3+"";return{c(){e=t("p"),s=o(v),this.h()},l(l){e=n(l,"P",{class:!0});var t=i(e);s=a(t,v),t.forEach(c),this.h()},h(){r(e,"class","svelte-mchgu6")},m(l,t){u(l,e,t),d(e,s)},p(l,e){2&e&&v!==(v=l[1].input_3+"")&&h(s,v)},d(l){l&&c(e)}}}function M(l){let e,s;return{c(){e=t("p"),s=o(l[2]),this.h()},l(t){e=n(t,"P",{class:!0});var o=i(e);s=a(o,l[2]),o.forEach(c),this.h()},h(){r(e,"class","response-msg svelte-mchgu6")},m(l,t){u(l,e,t),d(e,s)},p(l,e){4&e&&h(s,l[2])},d(l){l&&c(e)}}}function O(l){let e,s,h,k,b,y,_,w,E,I,B,T,U,$,D,P,L,j,N,O,R=l[1].input_1&&V(l),C=l[1].input_2&&x(l),F=l[1].input_3&&S(l),H=l[2]&&M(l);return{c(){e=t("div"),s=t("form"),h=t("input"),k=v(),R&&R.c(),b=v(),y=t("input"),_=v(),w=t("input"),E=v(),C&&C.c(),I=v(),B=t("input"),T=v(),F&&F.c(),U=v(),$=t("input"),D=v(),P=t("button"),L=o("Submit"),j=v(),H&&H.c(),this.h()},l(l){e=n(l,"DIV",{class:!0});var t=i(e);s=n(t,"FORM",{method:!0,class:!0});var o=i(s);h=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),k=m(o),R&&R.l(o),b=m(o),y=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),_=m(o),w=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),E=m(o),C&&C.l(o),I=m(o),B=n(o,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),T=m(o),F&&F.l(o),U=m(o),$=n(o,"INPUT",{type:!0,name:!0,value:!0,class:!0}),D=m(o),P=n(o,"BUTTON",{type:!0,class:!0});var r=i(P);L=a(r,"Submit"),r.forEach(c),j=m(o),H&&H.l(o),o.forEach(c),t.forEach(c),this.h()},h(){r(h,"type","text"),r(h,"name","input_1_3"),r(h,"placeholder","First Name"),r(h,"class","svelte-mchgu6"),r(y,"type","text"),r(y,"name","input_1_6"),r(y,"placeholder","Last Name"),r(y,"class","svelte-mchgu6"),r(w,"type","email"),r(w,"name","input_2"),r(w,"placeholder","Email"),r(w,"class","svelte-mchgu6"),r(B,"type","tel"),r(B,"name","input_3"),r(B,"placeholder","000-000-0000"),r(B,"class","svelte-mchgu6"),r($,"type","hidden"),r($,"name","input_4"),$.value=l[0],r($,"class","svelte-mchgu6"),r(P,"type","submit"),r(P,"class","svelte-mchgu6"),r(s,"method","post"),r(s,"class","svelte-mchgu6"),r(e,"class","modal svelte-mchgu6")},m(t,o){u(t,e,o),d(e,s),d(s,h),d(s,k),R&&R.m(s,null),d(s,b),d(s,y),d(s,_),d(s,w),d(s,E),C&&C.m(s,null),d(s,I),d(s,B),d(s,T),F&&F.m(s,null),d(s,U),d(s,$),d(s,D),d(s,P),d(P,L),d(s,j),H&&H.m(s,null),N||(O=p(s,"submit",f(l[3])),N=!0)},p(l,[e]){l[1].input_1?R?R.p(l,e):(R=V(l),R.c(),R.m(s,b)):R&&(R.d(1),R=null),l[1].input_2?C?C.p(l,e):(C=x(l),C.c(),C.m(s,I)):C&&(C.d(1),C=null),l[1].input_3?F?F.p(l,e):(F=S(l),F.c(),F.m(s,U)):F&&(F.d(1),F=null),1&e&&($.value=l[0]),l[2]?H?H.p(l,e):(H=M(l),H.c(),H.m(s,null)):H&&(H.d(1),H=null)},i:g,o:g,d(l){l&&c(e),R&&R.d(),C&&C.d(),F&&F.d(),H&&H.d(),N=!1,O()}}}function R(l,e,s){var{eBookTitle:t}=e,{downloadLink:o}=e,n={},i="";return l.$$set=l=>{"eBookTitle"in l&&s(0,t=l.eBookTitle),"downloadLink"in l&&s(4,o=l.downloadLink)},[t,n,i,function(){var l=this,e=l.method,t=new FormData(l);fetch("https://admin.immigrationlawnj.com/wp-json/gf/v2/forms/3/submissions",{method:e,body:t}).then((l=>l.json())).then((l=>(l=>{console.log(l);var e=l.is_valid,t=e?l.confirmation_message.replace(/(<([^>]+)>)/gi,""):"There was a problem with your submission.",o=e?{}:Object.fromEntries(Object.entries(l.validation_messages).map((l=>{var[e,s]=l;return["input_"+e,s]})));return s(1,n=o),s(2,i=t),{isSuccess:e,message:t,validationError:o}})(l))).then((e=>{e.isSuccess&&(window.location=o,l.reset())})).catch((l=>{console.log(l)}))},o]}class C extends l{constructor(l){super(),e(this,l,R,O,s,{eBookTitle:0,downloadLink:4})}}function F(l,e,s){const t=l.slice();return t[7]=e[s],t}function H(l){var e,s,p,f,g,I,B;let T,U,$,D,P,L,j,N,V,x,S,M,O,R,F,H,q,z,G,K,W,A,J,Q=(null==(e=l[7])?void 0:e.title)+"",X=(null==(p=null==(s=l[7])?void 0:s.eBook)?void 0:p.shortDescription)+"";return K=new C({props:{downloadLink:null==(I=null==(g=null==(f=l[7])?void 0:f.eBook)?void 0:g.pdf)?void 0:I.mediaItemUrl,eBookTitle:null==(B=l[7])?void 0:B.title}}),{c(){T=t("div"),U=t("div"),$=t("picture"),D=t("source"),L=v(),j=t("source"),V=v(),x=t("img"),O=v(),R=t("div"),F=t("h2"),H=o(Q),q=v(),z=t("div"),G=v(),k(K.$$.fragment),W=v(),this.h()},l(l){T=n(l,"DIV",{id:!0,class:!0});var e=i(T);U=n(e,"DIV",{class:!0});var s=i(U);$=n(s,"PICTURE",{});var t=i($);D=n(t,"SOURCE",{type:!0,srcset:!0}),L=m(t),j=n(t,"SOURCE",{type:!0,srcset:!0}),V=m(t),x=n(t,"IMG",{src:!0,alt:!0,loading:!0,width:!0,height:!0,class:!0}),t.forEach(c),s.forEach(c),O=m(e),R=n(e,"DIV",{class:!0});var o=i(R);F=n(o,"H2",{});var r=i(F);H=a(r,Q),r.forEach(c),q=m(o),z=n(o,"DIV",{class:!0}),i(z).forEach(c),G=m(o),b(K.$$.fragment,o),o.forEach(c),W=m(e),e.forEach(c),this.h()},h(){var e,s,t,o,n,i,a,c,u,d,h;r(D,"type","image/avif"),r(D,"srcset",P=null==(t=null==(s=null==(e=l[7])?void 0:e.eBook)?void 0:s.avifImage)?void 0:t.sourceUrl),r(j,"type","image/webp"),r(j,"srcset",N=null==(i=null==(n=null==(o=l[7])?void 0:o.eBook)?void 0:n.webpImage)?void 0:i.sourceUrl),x.src!==(S=null==(u=null==(c=null==(a=l[7])?void 0:a.eBook)?void 0:c.pngImage)?void 0:u.sourceUrl)&&r(x,"src",S),r(x,"alt",M=null==(d=l[7])?void 0:d.title),r(x,"loading","lazy"),r(x,"width","200"),r(x,"height","275"),r(x,"class","svelte-1btcfck"),r(U,"class","ebook-img svelte-1btcfck"),r(z,"class","ebook-description svelte-1btcfck"),r(R,"class","ebook-content"),r(T,"id",A=null==(h=l[7])?void 0:h.slug),r(T,"class","ebook block-style04 svelte-1btcfck")},m(l,e){u(l,T,e),d(T,U),d(U,$),d($,D),d($,L),d($,j),d($,V),d($,x),d(T,O),d(T,R),d(R,F),d(F,H),d(R,q),d(R,z),z.innerHTML=X,d(R,G),y(K,R,null),d(T,W),J=!0},p(l,e){var s,t,o,n,i,a,c,u,d,v,m,p,f,g,k,b,y,_;(!J||4&e&&P!==(P=null==(o=null==(t=null==(s=l[7])?void 0:s.eBook)?void 0:t.avifImage)?void 0:o.sourceUrl))&&r(D,"srcset",P),(!J||4&e&&N!==(N=null==(a=null==(i=null==(n=l[7])?void 0:n.eBook)?void 0:i.webpImage)?void 0:a.sourceUrl))&&r(j,"srcset",N),(!J||4&e&&x.src!==(S=null==(d=null==(u=null==(c=l[7])?void 0:c.eBook)?void 0:u.pngImage)?void 0:d.sourceUrl))&&r(x,"src",S),(!J||4&e&&M!==(M=null==(v=l[7])?void 0:v.title))&&r(x,"alt",M),(!J||4&e)&&Q!==(Q=(null==(m=l[7])?void 0:m.title)+"")&&h(H,Q),(!J||4&e)&&X!==(X=(null==(f=null==(p=l[7])?void 0:p.eBook)?void 0:f.shortDescription)+"")&&(z.innerHTML=X);const w={};4&e&&(w.downloadLink=null==(b=null==(k=null==(g=l[7])?void 0:g.eBook)?void 0:k.pdf)?void 0:b.mediaItemUrl),4&e&&(w.eBookTitle=null==(y=l[7])?void 0:y.title),K.$set(w),(!J||4&e&&A!==(A=null==(_=l[7])?void 0:_.slug))&&r(T,"id",A)},i(l){J||(_(K.$$.fragment,l),J=!0)},o(l){w(K.$$.fragment,l),J=!1},d(l){l&&c(T),E(K)}}}function q(l){let e,s,o,a,h,v=l[2],m=[];for(let t=0;t<v.length;t+=1)m[t]=H(F(l,v,t));const p=l=>w(m[l],1,1,(()=>{m[l]=null}));return{c(){e=t("div"),s=t("div"),o=t("div");for(let l=0;l<m.length;l+=1)m[l].c();this.h()},l(l){e=n(l,"DIV",{id:!0,class:!0});var t=i(e);s=n(t,"DIV",{class:!0});var a=i(s);o=n(a,"DIV",{class:!0});var r=i(o);for(let e=0;e<m.length;e+=1)m[e].l(r);r.forEach(c),a.forEach(c),t.forEach(c),this.h()},h(){r(o,"class","ebooks-list svelte-1btcfck"),r(s,"class","ebooks-inner svelte-1btcfck"),r(e,"id",l[0]),r(e,"class",a=I(l[1])+" svelte-1btcfck")},m(l,t){u(l,e,t),d(e,s),d(s,o);for(let e=0;e<m.length;e+=1)m[e].m(o,null);h=!0},p(l,[s]){if(4&s){let e;for(v=l[2],e=0;e<v.length;e+=1){const t=F(l,v,e);m[e]?(m[e].p(t,s),_(m[e],1)):(m[e]=H(t),m[e].c(),_(m[e],1),m[e].m(o,null))}for(B(),e=v.length;e<m.length;e+=1)p(e);T()}(!h||1&s)&&r(e,"id",l[0]),(!h||2&s&&a!==(a=I(l[1])+" svelte-1btcfck"))&&r(e,"class",a)},i(l){if(!h){for(let l=0;l<v.length;l+=1)_(m[l]);h=!0}},o(l){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)w(m[e]);h=!1},d(l){l&&c(e),U(m,l)}}}function z(l,e,s,t,o,n,i){try{var a=l[n](i),c=a.value}catch(r){return void s(r)}a.done?e(c):Promise.resolve(c).then(t,o)}function G(l){return function(){var e=this,s=arguments;return new Promise((function(t,o){var n=l.apply(e,s);function i(l){z(n,t,o,i,a,"next",l)}function a(l){z(n,t,o,i,a,"throw",l)}i(void 0)}))}}function K(l,e,s){let t;$(l,L,(l=>s(6,t=l)));var{id:o}=e,{blockstyle:n=""}=e,i="ebooks",a=j,c=()=>{};return D(G((function*(){var l,e,o=null==(l=t)||null==(e=l.data)?void 0:e.gql(N,t.data.sources.wordpress,{size:999});c=yield null==o?void 0:o.subscribe(function(){var l=G((function*(l){var e=yield l;s(2,a=e.eBooks.nodes)}));return function(e){return l.apply(this,arguments)}}())}))),P((()=>{c()})),l.$$set=l=>{"id"in l&&s(0,o=l.id),"blockstyle"in l&&s(3,n=l.blockstyle)},l.$$.update=()=>{8&l.$$.dirty&&s(1,i="ebooks "+n)},[o,i,a,n]}class W extends l{constructor(l){super(),e(this,l,K,q,s,{id:0,blockstyle:3})}}export{W as B};
